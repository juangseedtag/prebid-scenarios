<html>
   <head>
        <!-- /!\ ATTENTION: replace the "<networkid>" below with your network's ID /!\ -->
        <script src='https://ced.sascdn.com/tag/4308/smart.js' type="text/javascript"></script>
        <script type="text/javascript">
                var sas = sas || {};
                sas.cmd = sas.cmd || [];
                sas.cmd.push(function() {
                    sas.setup({
                        /* /!\ ATTENTION: replace the domain below with your network's Smart domain */
                        domain: 'https://prg.smartadserver.com',
                        renderMode: 2,
                        async: true
                    });
                });
            
        </script>
            <script type="text/javascript" src="prebid7.15.0.js" async></script>
            <script>
                  var PREBID_TIMEOUT = 5000; /* custom prebid.js timeout value */
                  var pbjs = pbjs || {};
                  pbjs.que = pbjs.que || [];
                  
                  pbjs.que.push(function() {
           var adUnits = [{
           /* replace "3" with the formatID of your ad unit */
           code: 'sas_3',
           mediaTypes: {
             "banner": {
               sizes: [[300,250]]
             },
           },
           bids: [{
                bidder: 'seedtag',
                params: {
                    adUnitId: '27296879',
                    publisherId: '3778-9696-01',
                    placement: 'inArticle'
                }
            }]
         }];
         pbjs.addAdUnits(adUnits);
                      pbjs.requestBids({
                          // This callback gets triggered when all bids for this
                          // ad unit come back. 
                          bidsBackHandler: sendAdserverRequest
                      });
                  });
                  var sendAdserverRequest = function(bidResponses) {
                      //pushes the bidResponse information to the Smart platform, and triggers the placement render
                      sas.cmd.push(function() {
                          pbjs.que.push(function() {
                              var bid = pbjs.getHighestCpmBids("sas_3")[0]; /* replace "3" with the formatID of your ad unit */
                              if (bid) {
                                  bid.currency = bid.currency || "USD";
                                  sas.setHeaderBiddingWinner("sas_3", bid); /* replace "3" with the formatID of your ad unit */
                                  sas.render();
                              }
                          });
                  
                      });
                  };
                  //safety timeout for prebid response
                  setTimeout(function() {
                      sendAdserverRequest();
                      sas.cmd.push(function() {
                          sas.render();
                      });
                  }, PREBID_TIMEOUT);
               
      </script>
         
   </head>
      
   <body>
            <!-- /!\ ATTENTION: replace the "3" below with the formatID of your ad unit */ /!\ -->
      <h1>Smart AdServer - SeedTag 01</h1>
      <div id="sas_3">
                  <span>ad content</span>
                  <script type="text/javascript">
                        //Smart ad unit setup
                        //note the ad unit will only be called after prebid.js
                        sas.cmd.push(function() {
                            sas.call("std", {
                                /* replace "3" with the formatID of your ad unit */
                                tagId: 'sas_3',
                                /* replace this ID by your tag's site ID */
                                siteId: 508833,
                                /* replace this ID by your tag's site ID */
                                pageId: 1599773,
                                /* replace this ID by your tag's format ID  */
                                formatId: 111263 
                            }, {
                                onNoad: function() {
                                    //called if Smart has no fill
                                    var bid = pbjs.getHighestCpmBids("sas_3")[0]; /* replace "3" with the formatID of your ad unit */
                        
                                    var i = document.createElement("iframe");
                                    i.style.width = 300;
                                    i.style.height = 250;
                                    i.style.overflow = "hidden";
                                    i.setAttribute('frameBorder', 0); //to remove the default iframe border
                                    i.setAttribute('scrolling', 'no'); //to remove any scrollbars
                                    document.getElementById("sas_3").appendChild(i); /* replace "3" with the formatID of your ad unit */
                                    pbjs.renderAd(i.contentWindow.document, bid.adId);
                                    i.contentWindow.document.body.style.padding = '0'; //so there is no extra spacing in our iframe
                                    i.contentWindow.document.body.style.margin = '0'; //so there is no extra spacing in our iframe
                                }
                            });
                        });
                     
         </script>
                  <!-- /!\ ATTENTION: the portion below is optional, for non-javascript supporting users. Replace with the proper IDs if used. /!\ -->
                  
         <noscript>
                        <a href="https://prg.smartadserver.com/ac?jump=1&nwid=73&siteid=132432&pgname=callwithecpm&fmtid=1000018334&visit=m&tmstp=[timestamp]&out=nonrich" target="_blank">
                        <img src="https://prg.smartadserver.com/ac?out=nonrich&nwid=73&siteid=132432&pgname=callwithecpm&fmtid=1000018334&visit=m&tmstp=[timestamp]" border="0" alt="" /></a>
                     
         </noscript>
               
      </div>
         
   </body>
</html>
